<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="report_catalog">
        <t t-call="web.html_container">
             <t t-foreach="docs" t-as="doc">
                <t t-call="catalogs.report_catalog_tmpl"/>
            </t>
        </t>
    </template>

    <template id="report_catalog_tmpl">
        <xpath expr="//div[@class='header']" position="replace">
            <div class="header" style="max-height: 0px !important; display: none !important;">
            </div>                                  
        </xpath>
        <t t-call="web.external_layout">
            <t t-set="doc" t-value="doc.with_context()"/>

            <div class="page m-0 p-0">
                <div class="oe_structure"/>

                <t t-foreach="doc.group_lines()" t-as="group">
                    <!--Encabezado de cada p치gina-->
                    <div class="row">
                        <div class="col-12 mb-0 p-0">
                            <div id="start" style="position: relative; display: inline-block; text-align: center; width: 100%;">
                                <!--Imagen de encabezado-->
                                <img t-att-src="image_data_uri(doc.header_image)" alt="Encabezado del  Cat치logo"
                                             style="width: 100% !important; height: auto !important;"/>
                                <!--Texto sobre la imagen-->
                                <div style="position: absolute; top: 25%; transform: translate(-50%, 25%);
                                            width: 100% !important; text-align: center;">
                                    <p t-att-style="doc.css_title()" t-esc="doc.name"/>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--Div con listado de productos-->
                    <div class="row">
                        <div class="col-12" style="text-align: center;margin-top: 0.67rem !important;">
                            <div class="container" style="text-align: center; max-height: 47.70rem !important; min-height: 47.70rem !important;padding-top: 3px; padding-bottom: 15px !important;">
                                <t t-foreach="group" t-as="product">
                                    <!--Div para un producto-->
                                    <div style="width: 200px !important; height: 300px !important; padding: 0.5rem !important; text-align: center !important;
                                                display: inline-block; margin-left: 1.5rem; margin-right: 1.5rem; margin-bottom: 1.5rem;">
                                        <div t-att-style="doc.css_border_rect()">
                                            <div style="width: 200px !important; height; 175px !important;">
                                                <img t-att-src="image_data_uri(product.product_id.image_catalog)"
                                                     alt="Producto" t-att-style="doc.css_image_product()"/>
                                            </div>

                                            <div t-att-style="doc.css_bg_rect()">
                                                <p t-att-style="doc.css_data_rect()" t-esc="product.product_id.name"/>
                                                <p t-att-style="doc.css_data_rect_1()">$ <span t-esc="'{:.2f}'.format(product.product_id.lst_price)"/></p>
                                                <p t-att-style="doc.css_data_rect_2()" t-esc="product.product_id.default_code"/>
                                            </div>
                                        </div>
                                    </div>

                                    <t t-if="product_index == 2">
                                        <br/>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </div>

                    <!--Footer de cada pagina-->
                    <div class="row">
                         <div class="col-12 mt-0 mr-0 ml-0">
                             <div style="position: absolute; bottom: 0px; left: 0px; right: 0px; display: inline-block; text-align: center; width: 100%;padding-top: 12px !important;">
                                 <div class="social-red">
                                     <div class="instagram" style="position:fixed;margin-top:45px;color: white;margin-left: 15px; padding-top: 15px !important;">
                                         <div class="img-intagram" style="float:left;">
                                             <img src="/catalogs/static/src/img/instagram.png" style="height:25px;"/>
                                         </div>
                                         <div class="link" height="45px" style="float:right;margin-top: 3px;">
                                             <a href="https://www.instagram.com/chicosjugueteseducativos/" style="margin-left:5px;color: white;display:inline-block;font-size: 10px;">instagram.com/chicosjugueteseducativos/</a>
                                         </div>
                                     </div>
                                     <div class="instagram" style="position:fixed;margin-top:45px; margin-left: 300px;color: white; padding-top: 15px !important;">
                                         <div class="img-facebook" style="float:left;">
                                             <img src="/catalogs/static/src/img/facebook.png" style="height:25px;"/>
                                         </div>
                                         <div class="link" height="45px" style="float:right;margin-top: 3px;">
                                            <a href="https://www.facebook.com/ChicosJuguetesEducativos" style="margin-left:5px;color: white;display:inline-block;font-size: 10px;">facebook.com/ChicosJuguetesEducativos</a>
                                         </div>
                                     </div>
                                     <div class="maps" style="position:fixed;margin-top:45px; margin-left: 580px;color: white; padding-top: 15px !important;">
                                         <div class="img-facebook" style="float:left;">
                                            <img src="/catalogs/static/src/img/maps.png" style="height:25px;"/>
                                         </div>
                                         <div class="link" height="45px" style="float:right;margin-top: 3px;">
                                             <a href="https://www.google.com/maps/?q=13.707237, -89.233894" style="margin-left:5px;color:white;display:inline-block;font-size: 10px;">
                                             9 Calle Poniente # 3972 503 Colonia Escal칩n, El Salvador
                                         </a>
                                         </div>
                                     </div>
                                 </div>
                                 <img t-att-src="image_data_uri(doc.footer_image)" alt="Pie del  Cat치logo" style="width: 100% !important; height: auto !important;"/>
                            </div>
                         </div>
                    </div>
                </t>


                <div class="oe_structure"/>
            </div>

            <xpath expr="//div[@class='footer']" position="replace">
                <div class="footer" style="max-width: 0px !important;"></div>
            </xpath>
        </t>
        <style>
            main {
                margin: 0px !important;
                padding: 0px !important;
            }

            body {
                margin: 0px !important;
                padding: 0px !important;
            }

            @media print {
                #start {
                    page-break-inside: avoid;
                }
                #final
                {
                    page-break-inside: avoid;
                }

                .header {
                    position: fixed;
                }

                .footer {
                    position: fixed;
                    bottom: 0;
                }
            }
            @page {
                size: Letter;
            }
        </style>
    </template>
</odoo>
